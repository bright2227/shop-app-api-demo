{"remainingRequest":"/home/bright2227/django/shop-app-api-demo/frontend/node_modules/babel-loader/lib/index.js!/home/bright2227/django/shop-app-api-demo/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/bright2227/django/shop-app-api-demo/frontend/src/main.js","dependencies":[{"path":"/home/bright2227/django/shop-app-api-demo/frontend/src/main.js","mtime":1603362895751},{"path":"/home/bright2227/django/shop-app-api-demo/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1603362890021},{"path":"/home/bright2227/django/shop-app-api-demo/frontend/node_modules/babel-loader/lib/index.js","mtime":1603362890031},{"path":"/home/bright2227/django/shop-app-api-demo/frontend/node_modules/eslint-loader/index.js","mtime":1603362889171}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAiL2hvbWUvYnJpZ2h0MjIyNy9kamFuZ28vc2hvcC1hcHAtYXBpLWRlbW8vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiL2hvbWUvYnJpZ2h0MjIyNy9kamFuZ28vc2hvcC1hcHAtYXBpLWRlbW8vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy5wcm9taXNlLmpzIjsKaW1wb3J0ICIvaG9tZS9icmlnaHQyMjI3L2RqYW5nby9zaG9wLWFwcC1hcGktZGVtby9mcm9udGVuZC9ub2RlX21vZHVsZXMvY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5hc3NpZ24uanMiOwppbXBvcnQgIi9ob21lL2JyaWdodDIyMjcvZGphbmdvL3Nob3AtYXBwLWFwaS1kZW1vL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9jb3JlLWpzL21vZHVsZXMvZXMucHJvbWlzZS5maW5hbGx5LmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQXBwIGZyb20gJy4vQXBwLnZ1ZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXMuanMnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZS5qcyc7CmltcG9ydCAnYm9vdHN0cmFwL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzJzsKVnVlLmNvbmZpZy5wcm9kdWN0aW9uVGlwID0gZmFsc2U7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGlmICghc3RvcmUuc3RhdGUuaXNsb2NhbGxvYWQpIHsKICAgIHN0b3JlLmRpc3BhdGNoKCdsb2NhbExvYWQnKTsKICB9CgogIGlmICh0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLnJlcXVpcmVzTG9naW47CiAgfSkpIHsKICAgIGlmICghc3RvcmUuZ2V0dGVycy5pc1ZhbGlkYWNjZXNzKSB7CiAgICAgIGlmICghc3RvcmUuZ2V0dGVycy5pc1ZhbGlkcmVmcmVzaCkgewogICAgICAgIG5leHQoewogICAgICAgICAgbmFtZTogJ2xvZ2luJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHN0b3JlLmRpc3BhdGNoKCd1c2VyUmVMb2dpbicpOwogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgbmV4dCgpOwogICAgfQogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsgLy8gIG5leHQgZG9lc24ndCBmaW5pc2ggZnVuY3Rpb24gYXQgZmlyc3QgdGltZQovLyAgbmV4dCgpCi8vICBjb25zb2xlLmxvZygxKQovLyAgbmV4dCgpCi8vICBjb25zb2xlLmxvZygyKQovLyAgLS0tLS0tLS0tCi8vICAxCi8vICAyCgpuZXcgVnVlKHsKICByb3V0ZXI6IHJvdXRlciwKICBzdG9yZTogc3RvcmUsCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgcmV0dXJuIGgoQXBwKTsKICB9Cn0pLiRtb3VudCgnI2FwcCcpOw=="},{"version":3,"sources":["/home/bright2227/django/shop-app-api-demo/frontend/src/main.js"],"names":["Vue","App","router","store","config","productionTip","beforeEach","to","from","next","state","islocalload","dispatch","matched","some","record","meta","requiresLogin","getters","isValidaccess","isValidrefresh","name","render","h","$mount"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAO,sCAAP;AAEAH,GAAG,CAACI,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEAH,MAAM,CAACI,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAI,CAACN,KAAK,CAACO,KAAN,CAAYC,WAAjB,EAA6B;AAC3BR,IAAAA,KAAK,CAACS,QAAN,CAAe,WAAf;AACD;;AACD,MAAIL,EAAE,CAACM,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAACC,IAAP,CAAYC,aAAhB;AAAA,GAAtB,CAAJ,EAA0D;AACxD,QAAI,CAACd,KAAK,CAACe,OAAN,CAAcC,aAAnB,EAAkC;AAChC,UAAI,CAAChB,KAAK,CAACe,OAAN,CAAcE,cAAnB,EAAmC;AACjCX,QAAAA,IAAI,CAAC;AAAEY,UAAAA,IAAI,EAAE;AAAR,SAAD,CAAJ;AACD,OAFD,MAEO;AACLlB,QAAAA,KAAK,CAACS,QAAN,CAAe,aAAf;AACAH,QAAAA,IAAI;AACL;AACF,KAPD,MAOO;AACLA,MAAAA,IAAI;AACL;AACF,GAXD,MAWO;AACLA,IAAAA,IAAI;AACL;AACF,CAlBD,E,CAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIT,GAAJ,CAAQ;AACNE,EAAAA,MAAM,EAANA,MADM;AAENC,EAAAA,KAAK,EAALA,KAFM;AAGNmB,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACtB,GAAD,CAAL;AAAA;AAHH,CAAR,EAIGuB,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './routes.js'\nimport store from './store.js'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nVue.config.productionTip = false\n\nrouter.beforeEach((to, from, next) => {\n  if (!store.state.islocalload){\n    store.dispatch('localLoad')\n  }\n  if (to.matched.some(record => record.meta.requiresLogin)) {\n    if (!store.getters.isValidaccess) {\n      if (!store.getters.isValidrefresh) {\n        next({ name: 'login' })\n      } else {\n        store.dispatch('userReLogin')\n        next()\n      }\n    } else {\n      next()\n    }\n  } else {\n    next()\n  }\n})\n\n//  next doesn't finish function at first time\n//  next()\n//  console.log(1)\n//  next()\n//  console.log(2)\n//  ---------\n//  1\n//  2\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App),\n}).$mount('#app')\n"]}]}