{"remainingRequest":"/app/node_modules/babel-loader/lib/index.js!/app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/app/src/views/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/app/src/views/Cart.vue","mtime":1604284462906},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1603362890021},{"path":"/app/node_modules/babel-loader/lib/index.js","mtime":1603362890031},{"path":"/app/node_modules/cache-loader/dist/cjs.js","mtime":1603362890021},{"path":"/app/node_modules/vue-loader/lib/index.js","mtime":1603362889381}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBOYXZiYXIgZnJvbSAnLi4vY29tcG9uZW50cy9OYXZiYXInOwppbXBvcnQgeyBnZXRBUEksIGdldEFQSXdpdGhUb2tlbiB9IGZyb20gJy4uL2F4aW9zLWFwaSc7IC8vIGltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FydCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIENhcnREYXRhOiB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0LAogICAgICBPcmRlckRhdGE6IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyLAogICAgICBQcm9kdWN0RGF0YTogbnVsbCAvLyDkvLzkuY7opoHop7jnmbzororli5UgUHJvZHVjdERhdGHmiY3mnIPpoa/nj77vvIzlpoLmnpzlj6rmnIkge30g6YKjVGVtcGxhdGXkuZ/lj6rmnIPlh7rnj757fQoKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOYXZiYXI6IE5hdmJhcgogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgZ2V0QVBJLmdldCgnL2FwaS9wcm9kdWN0LycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIC8vIHJlc3BvbnNlLmRhdGEucmVzdWx0cy5mb3JFYWNoKGVsZSA9PiAodGhpcy5Qcm9kdWN0RGF0YVtlbGUuaWRdPWVsZSkpCiAgICAgIC8vIHRoaXMuQ2FydERhdGEuZm9yRWFjaChlbGUgPT4gdGhpcy5pdGVtaW5mb3JtKGVsZSkpCiAgICAgIF90aGlzLlByb2R1Y3REYXRhID0gcmVzcG9uc2UuZGF0YS5yZXN1bHRzOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkZWxldGVJdGVtOiBmdW5jdGlvbiBkZWxldGVJdGVtKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZ2V0QVBJd2l0aFRva2VuLmRlbGV0ZSgnL2FwaS9vcmRlcml0ZW0vJywgewogICAgICAgIGlkOiBpZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnY2FydCcKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfSwKICAgIGl0ZW1pbmZvcm06IGZ1bmN0aW9uIGl0ZW1pbmZvcm0oZWxlKSB7CiAgICAgIGVsZVsnbmFtZSddID0gdGhpcy5Qcm9kdWN0RGF0YVtlbGUuaXRlbV0ubmFtZTsKICAgICAgZWxlWydwcmljZSddID0gdGhpcy5Qcm9kdWN0RGF0YVtlbGUuaXRlbV0ucHJpY2U7CiAgICB9LAogICAgZm9ybU9yZGVyOiBmdW5jdGlvbiBmb3JtT3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGFkZHJlc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkcmVzcyIpLnZhbHVlOwogICAgICBnZXRBUEl3aXRoVG9rZW4ucG9zdCgnL2FwaS9vcmRlci8nLCB7CiAgICAgICAgYWRkcmVzczogYWRkcmVzcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXJSZUxvZ2luJykKCiAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAnY2FydCcKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA,OAAA,MAAA,MAAA,sBAAA;AACA,SAAA,MAAA,EAAA,eAAA,QAAA,cAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IADA;AAEA,MAAA,SAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAFA;AAGA,MAAA,WAAA,EAAA,IAHA,CAGA;;AAHA,KAAA;AAKA,GATA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAXA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,IAAA,MAAA,CAAA,GAAA,CAAA,eAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA;AACA;AACA,MAAA,KAAA,CAAA,WAAA,GAAA,QAAA,CAAA,IAAA,CAAA,OAAA;AACA,KALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KARA;AASA,GAzBA;AA2BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,EADA,EACA;AAAA;;AACA,MAAA,eAAA,CAAA,MAAA,CAAA,iBAAA,EAAA;AAAA,QAAA,EAAA,EAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAPA;AAQA,KAVA;AAWA,IAAA,UAXA,sBAWA,GAXA,EAWA;AACA,MAAA,GAAA,CAAA,MAAA,CAAA,GAAA,KAAA,WAAA,CAAA,GAAA,CAAA,IAAA,EAAA,IAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,GAAA,KAAA,WAAA,CAAA,GAAA,CAAA,IAAA,EAAA,KAAA;AACA,KAdA;AAeA,IAAA,SAfA,uBAeA;AAAA;;AACA,UAAA,OAAA,GAAA,QAAA,CAAA,cAAA,CAAA,SAAA,EAAA,KAAA;AACA,MAAA,eAAA,CAAA,IAAA,CAAA,aAAA,EAAA;AAAA,QAAA,OAAA,EAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EADA,CAEA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OALA,EAMA,KANA,CAMA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OARA;AASA;AA1BA;AA3BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"products\">\r\n    <Navbar></Navbar> \r\n      <div class=\"album py-5 bg-light\">\r\n          <div class=\"container\">\r\n            <h2> Cart </h2>\r\n            <div class=\"card\">\r\n                <div class=\"row\" v-if=\"CartData.length==0\">\r\n                    <div class=\"col-md-12 text-left\">\r\n                        <h5 class=\"card-text text-left\">there is no item in cart.</h5>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" v-for=\"cart in CartData\" :key=\"cart.id\">\r\n                  <div class=\"col-sm-12 d-flex justify-content-between\">\r\n                    <h5> {{ProductData[cart.item-1]['name']}} | {{ProductData[cart.item-1]['price']}} $</h5> \r\n                    <h5> {{cart.quantity}} pcs</h5>\r\n                    <button type=\"button\" class=\"btn btn-light\" v-on:click=\"deleteItem(cart.id)\">Delete</button>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col\" v-if=\"CartData.length!=0\">\r\n                  <br>\r\n                  <p>Please enter the address for this order below: </p>\r\n                  <input type=\"text\" id=\"address\" name=\"address\" value=\"\" style=\"width:300px;height:60px\"> <br>\r\n                  <button type=\"button\" class=\"btn btn-light\" v-on:click=\"formOrder()\">Send Order</button>\r\n                </div>\r\n\r\n            </div>\r\n            <br><br>\r\n            <h2> Orders </h2>\r\n            <div class=\"card\">\r\n                <div class=\"row\" v-if=\"OrderData.length==0\">\r\n                    <div class=\"col-md-6 text-left\">\r\n                        <h5 class=\"card-text text-left\">there is no order formed yet.</h5>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" v-for=\"order in OrderData\" :key=\"order.id\">\r\n                    <div class=\"col-md-6 text-left\">\r\n                        <h5 class=\"card-text text-left\">Order id:\r\n                          <span style=\"float:right;\">{{order.id}} </span>\r\n                        </h5>\r\n                        <h5 class=\"card-text text-left\">Order state:\r\n                          <span style=\"float:right;\">{{order.state}} </span>\r\n                        </h5>\r\n                        <h5 class=\"card-text text-left\">Order created_date:\r\n                          <span style=\"float:right;\">{{order.created_date.slice(0, 16)}} </span>\r\n                        </h5>                        \r\n                        <h5 class=\"card-text text-left\">Order address:\r\n                          <span style=\"float:right;\">{{order.address}} </span>\r\n                        </h5>\r\n                        <h5 class=\"card-text text-left\">Order total:\r\n                          <span style=\"float:right;\">{{order.total}} </span>\r\n                        </h5>\r\n                        <br><br>\r\n                    </div>\r\n                    <br>\r\n                    \r\n                    <div class=\"col-md-6 text-left\">\r\n                        <h5> Orders Items:</h5>\r\n                        <div v-for=\"item in order.orderitem_set\" :key=\"item.id\">\r\n                          <div class=\"col-sm-12 d-flex justify-content-between\">\r\n                            <h5> {{ProductData[item.item-1].name}} | {{ProductData[item.item-1].price}} $</h5>\r\n                            <h5>{{item.quantity}} pcs</h5>\r\n                          </div>\r\n                        </div>\r\n                        <br><br>\r\n                    </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Navbar from '../components/Navbar'\r\n  import { getAPI, getAPIwithToken} from '../axios-api'\r\n  // import { mapState } from 'vuex'\r\n\r\n  export default {\r\n    name: 'Cart',\r\n\r\n    data () {\r\n      return {\r\n          CartData: this.$store.state.cart,\r\n          OrderData: this.$store.state.order,\r\n          ProductData: null, // 似乎要觸發變動 ProductData才會顯現，如果只有 {} 那Template也只會出現{}\r\n        }\r\n    },\r\n\r\n    components: {\r\n      Navbar\r\n    },\r\n\r\n    created () {\r\n      getAPI.get('/api/product/',)\r\n      .then(response => {\r\n        // response.data.results.forEach(ele => (this.ProductData[ele.id]=ele))\r\n        // this.CartData.forEach(ele => this.iteminform(ele))\r\n        this.ProductData = response.data.results\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      deleteItem(id){\r\n        getAPIwithToken.delete('/api/orderitem/', {id: id})\r\n        .then(response => {\r\n          console.log(response)\r\n          this.$router.push({ name: 'cart' })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      },\r\n      iteminform(ele){\r\n        ele['name'] = this.ProductData[ele.item].name\r\n        ele['price'] = this.ProductData[ele.item].price\r\n      },\r\n      formOrder(){\r\n        var address = document.getElementById(\"address\").value\r\n        getAPIwithToken.post('/api/order/', {address: address})\r\n        .then(response => {\r\n          console.log(response)\r\n          // this.$store.dispatch('userReLogin')\r\n          this.$router.push({ name: 'cart' })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      }\r\n    },\r\n\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  button {\r\n    width:100px;\r\n    height:30px;\r\n    position:relative;\r\n    padding:0em\r\n  }\r\n\r\n  input {\r\n    text-align: center;\r\n  }\r\n</style>\r\n\r\n"],"sourceRoot":"src/views"}]}