{"remainingRequest":"/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/node_modules/babel-loader/lib/index.js!/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/src/views/Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/src/views/Cart.vue","mtime":1603201189772},{"path":"/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/bright2227/django/shop-app-api-demo/frontend/vuedrf/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBOYXZiYXIgZnJvbSAnLi4vY29tcG9uZW50cy9OYXZiYXInOwppbXBvcnQgeyBnZXRBUEksIGdldEFQSXdpdGhUb2tlbiB9IGZyb20gJy4uL2F4aW9zLWFwaSc7IC8vIGltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FydCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIENhcnREYXRhOiB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0LAogICAgICBPcmRlckRhdGE6IHRoaXMuJHN0b3JlLnN0YXRlLm9yZGVyLAogICAgICBQcm9kdWN0RGF0YTogewogICAgICAgICcxJzogJ2EnCiAgICAgIH0gLy8g5Ly85LmO6KaB6Ke455m86K6K5YuVIFByb2R1Y3REYXRh5omN5pyD6aGv54++77yM5aaC5p6c5Y+q5pyJIHt9IOmCo1RlbXBsYXRl5Lmf5Y+q5pyD5Ye654++e30KCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgTmF2YmFyOiBOYXZiYXIKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGdldEFQSS5nZXQoJy9hcGkvcHJvZHVjdC8nKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXNwb25zZS5kYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLlByb2R1Y3REYXRhW2VsZS5pZF0gPSBlbGU7CiAgICAgIH0pOwoKICAgICAgX3RoaXMuQ2FydERhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLml0ZW1pbmZvcm0oZWxlKTsKICAgICAgfSk7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZUl0ZW06IGZ1bmN0aW9uIGRlbGV0ZUl0ZW0oaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBnZXRBUEl3aXRoVG9rZW4uZGVsZXRlKCcvYXBpL29yZGVyaXRlbS8nLCB7CiAgICAgICAgaWQ6IGlkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdjYXJ0JwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgaXRlbWluZm9ybTogZnVuY3Rpb24gaXRlbWluZm9ybShlbGUpIHsKICAgICAgZWxlWyduYW1lJ10gPSB0aGlzLlByb2R1Y3REYXRhW2VsZS5pdGVtXS5uYW1lOwogICAgICBlbGVbJ3ByaWNlJ10gPSB0aGlzLlByb2R1Y3REYXRhW2VsZS5pdGVtXS5wcmljZTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA,OAAA,MAAA,MAAA,sBAAA;AACA,SAAA,MAAA,EAAA,eAAA,QAAA,cAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IADA;AAEA,MAAA,SAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,KAFA;AAGA,MAAA,WAAA,EAAA;AAAA,aAAA;AAAA,OAHA,CAGA;;AAHA,KAAA;AAKA,GATA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GAXA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,IAAA,MAAA,CAAA,GAAA,CAAA,eAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,WAAA,CAAA,GAAA,CAAA,EAAA,IAAA,GAAA;AAAA,OAAA;;AACA,MAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,UAAA,GAAA;AAAA,eAAA,KAAA,CAAA,UAAA,CAAA,GAAA,CAAA;AAAA,OAAA;AACA,KAJA,EAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,KAPA;AAQA,GAxBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,EADA,EACA;AAAA;;AACA,MAAA,eAAA,CAAA,MAAA,CAAA,iBAAA,EAAA;AAAA,QAAA,EAAA,EAAA;AAAA,OAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,UAAA,IAAA,EAAA;AAAA,SAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAPA;AAQA,KAVA;AAWA,IAAA,UAXA,sBAWA,GAXA,EAWA;AACA,MAAA,GAAA,CAAA,MAAA,CAAA,GAAA,KAAA,WAAA,CAAA,GAAA,CAAA,IAAA,EAAA,IAAA;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,GAAA,KAAA,WAAA,CAAA,GAAA,CAAA,IAAA,EAAA,KAAA;AACA;AAdA;AA1BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"products\">\r\n    <Navbar></Navbar> \r\n      <div class=\"album py-5 bg-light\">\r\n          <div class=\"container\">\r\n            <h2> Cart </h2>\r\n            <div class=\"card\">\r\n                <div class=\"row\" v-if=\"CartData.length==0\">\r\n                    <div class=\"col-md-12 text-left\">\r\n                        <h5 class=\"card-text text-left\">there is no item in cart.</h5>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" v-for=\"cart in CartData\" :key=\"cart.id\">\r\n                  <div class=\"col-sm-12 d-flex justify-content-between\">\r\n                    <h5> {{cart.name}} | {{cart.price}} $</h5>\r\n                    <h5> {{cart.quantity}} pcs</h5>\r\n                    <button type=\"button\" class=\"btn btn-light\" v-on:click=\"deleteItem(cart.id)\">Delete</button>\r\n                  </div>\r\n                </div>\r\n\r\n            </div>\r\n            <br><br>\r\n            <h2> Orders </h2>\r\n            <div class=\"card\">\r\n                <div class=\"row\" v-if=\"OrderData.length==0\">\r\n                    <div class=\"col-md-6 text-left\">\r\n                        <h5 class=\"card-text text-left\">there is no order formed yet.</h5>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\" v-for=\"order in OrderData\" :key=\"order.id\">\r\n                    <div class=\"col-md-6 text-left\">\r\n                        <h5 class=\"card-text text-left\">Order id:\r\n                          <span style=\"float:right;\">{{order.id}} </span>\r\n                        </h5>\r\n                        <h5 class=\"card-text text-left\">Order state:\r\n                          <span style=\"float:right;\">{{order.state}} </span>\r\n                        </h5>\r\n                        <h5 class=\"card-text text-left\">Order address:\r\n                          <span style=\"float:right;\">{{order.address}} </span>\r\n                        </h5>\r\n                        <h5 class=\"card-text text-left\">Order total:\r\n                          <span style=\"float:right;\">{{order.total}} </span>\r\n                        </h5>\r\n                    </div>\r\n                    <div class=\"col-md-6 text-left\">\r\n                        <h5> Orders Items:</h5>\r\n                        <div v-for=\"item in order.orderitem_set\" :key=\"item.id\">\r\n                          <div class=\"col-sm-12 d-flex justify-content-between\">\r\n                            <h5> {{ProductData[item.id].name}} | {{ProductData[item.id].price}} $</h5>\r\n                            <h5>{{item.quantity}} pcs</h5>\r\n                            <button type=\"button\" class=\"btn btn-light\" v-on:click=\"deleteItem(item.id)\">Delete</button>\r\n                          </div>\r\n                        </div>\r\n                    </div>\r\n              </div>\r\n            </div>\r\n            \r\n          </div>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Navbar from '../components/Navbar'\r\n  import { getAPI, getAPIwithToken} from '../axios-api'\r\n  // import { mapState } from 'vuex'\r\n\r\n  export default {\r\n    name: 'Cart',\r\n\r\n    data () {\r\n      return {\r\n          CartData: this.$store.state.cart,\r\n          OrderData: this.$store.state.order,\r\n          ProductData: {'1':'a'}, // 似乎要觸發變動 ProductData才會顯現，如果只有 {} 那Template也只會出現{}\r\n        }\r\n    },\r\n\r\n    components: {\r\n      Navbar\r\n    },\r\n\r\n    created () {\r\n      getAPI.get('/api/product/',)\r\n      .then(response => {\r\n        response.data.results.forEach(ele => (this.ProductData[ele.id]=ele))\r\n        this.CartData.forEach(ele => this.iteminform(ele))\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      deleteItem(id){\r\n        getAPIwithToken.delete('/api/orderitem/', {id: id})\r\n        .then(response => {\r\n          console.log(response)\r\n          this.$router.push({ name: 'cart' })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n      },\r\n      iteminform(ele){\r\n        ele['name'] = this.ProductData[ele.item].name\r\n        ele['price'] = this.ProductData[ele.item].price\r\n      }\r\n\r\n    },\r\n  \r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  button {\r\n    width:100px;\r\n    height:30px;\r\n    position:relative;\r\n    padding:0em\r\n  }\r\n\r\n  input {\r\n    text-align: center;\r\n  }\r\n</style>\r\n\r\n"],"sourceRoot":"src/views"}]}